(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1404],{7342:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return C}});var r=s(7757),a=s.n(r),n=s(2137),o=s(6610),i=s(5991),l=s(5255),c=s(3724),p=s(7608),d=s(8142),u=s(4730),g=(s(1664),s(9669)),f=s.n(g),m=(s(62),s(9249)),x=s(1163),h=s(2378),y=s.n(h),b=s(9008),v=d.default.createElement;function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=(0,p.Z)(e);if(t){var a=(0,p.Z)(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return(0,c.Z)(this,s)}}var w=s(4985),k=function(e){(0,l.Z)(s,e);var t=N(s);function s(e){var r;return(0,o.Z)(this,s),(r=t.call(this,e)).props.roles=JSON.parse(r.props.roles),r.props.categories=JSON.parse(r.props.categories),r.props.publisherRoles=JSON.parse(r.props.publisherRoles),r.props.categoryRoles=JSON.parse(r.props.categoryRoles),r.state={role:"",rolePublisher:"",category:"",categoryRole:"",categoryName:""},r}return(0,i.Z)(s,[{key:"render",value:function(){var e=this;(0,x.useRouter)();return v(d.default.Fragment,null,v(b.default,null,v("title",null,w.siteName," - ",y()("staff.sidebar.codeSettings",this.props.lang))),v(m.Ix,null),v("div",{className:"min-h-screen flex flex-row flex-col flex-auto flex-shrink-0 antialiased bg-gray-50 text-gray-800"},v(u.Z,{user:this.props.user,userIsStaff:this.props.userIsStaff,userIsAdmin:this.props.userIsAdmin,lang:this.props.lang}),v("div",{className:"bg-gray-900 h-full w-screen px-16 md:px-64 p-6"},v("div",{className:"container mx-auto px-4 sm:px-8"},v("div",{className:"py-8"},v("div",null,v("h5",{className:"text-2xl font-semibold leading-tight text-gray-200"},y()("staff.codesettings.head",this.props.lang))),v("div",{className:"py-2"}),v("h2",{className:"text-sm font-semibold leading-tight text-gray-200"},y()("staff.codesettings.addCodeStaff",this.props.lang)),v("div",{className:"my-2 flex sm:flex-row flex-col"},v("div",{className:"block relative"},v("select",{onChange:function(t){return e.setState({role:t.target.value})},className:"w-full py-2 px-2 bg-input rounded-md text-white border border-transparent focus:outline-none focus:border-transparent"},v("option",{value:0,selected:!0,disabled:!0},y()("staff.codesettings.selectRole",this.props.lang)),this.props.server.roles.sort((function(e,t){return t.position-e.position})).map((function(t){return v("option",{value:t.id,selected:e.state.role===t.id},t.name)})))),v("div",{className:"flex justify-center"},v("a",{className:"flex-no-grow flex-no-shrink relative text-lg py-0.5 px-4 ml-2 leading-normal text-white no-underline flex items-center transition duration-200 bg-green-500 hover:bg-green-600 cursor-pointer",onClick:function(){var t=(0,n.Z)(a().mark((function t(s){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.state.role.length){t.next=2;break}return t.abrupt("return",m.Am.error(y()("staff.codesettings.fillEverything",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 2:return t.next=4,f()(w.siteURL+"/api/codesettings/codestaff",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{id:e.state.role,admin:"9wA7yggY0WI"}}).then((function(e){return e.data}));case 4:if(2!==t.sent.error){t.next=7;break}return t.abrupt("return",m.Am.error(y()("staff.codesettings.alreadyAddedRole",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 7:m.Am.success(y()("staff.codesettings.addedRole",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}),e.props.roles.push(e.state.role),e.setState({role:""});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y()("send",this.props.lang)))),v("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},v("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden bg-input"},v("table",{className:"min-w-full leading-normal"},v("thead",null,v("tr",null,v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.role",this.props.lang)),v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.acts",this.props.lang)))),v("tbody",null,this.props.roles.map((function(t,s){var r=e.props.server.roles.filter((function(e){return e.id===t}))[0];return r||(r={name:y()("staff.codesettings.deletedRole",e.props.lang),number:t}),v("tr",{id:"codeRole-".concat(s)},v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("p",{className:"text-gray-200 whitespace-no-wrap"},r.name)),v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("div",{className:"flex"},v("div",{className:"badge cursor-pointer",onClick:function(){var t=(0,n.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f()(w.siteURL+"/api/codesettings/codestaff",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{id:r.id?r.id:r.number,delete:!0,admin:"9wA7yggY0WI"}}).then((function(e){return e.data}));case 2:return t.sent,document.getElementById("codeRole-".concat(s)).remove(),t.abrupt("return",m.Am.success(y()("staff.codesettings.deleted",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v("span",{className:"px-2 ml-auto text-xs font-medium tracking-wide text-red-800 bg-blue-100 rounded-full"},y()("staff.codesettings.delete",e.props.lang))))))}))))))),v("br",null),v("div",{className:"py-8"},v("h2",{className:"text-sm font-semibold leading-tight text-gray-200"},y()("staff.codesettings.addCodePublisher",this.props.lang)),v("div",{className:"my-2 flex sm:flex-row flex-col"},v("div",{className:"block relative"},v("select",{onChange:function(t){return e.setState({rolePublisher:t.target.value})},className:"w-full py-2 px-2 bg-input rounded-md text-white border border-transparent focus:outline-none focus:border-transparent"},v("option",{value:0,selected:!0,disabled:!0},y()("staff.codesettings.selectRole",this.props.lang)),this.props.server.roles.sort((function(e,t){return t.position-e.position})).map((function(t){return v("option",{value:t.id,selected:e.state.rolePublisher===t.id},t.name)})))),v("div",{className:"flex justify-center"},v("a",{className:"flex-no-grow flex-no-shrink relative text-lg py-0.5 px-4 ml-2 leading-normal text-white no-underline flex items-center transition duration-200 bg-green-500 hover:bg-green-600 cursor-pointer",onClick:function(){var t=(0,n.Z)(a().mark((function t(s){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.state.rolePublisher.length){t.next=2;break}return t.abrupt("return",m.Am.error(y()("staff.codesettings.fillEverything",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 2:return t.next=4,f()(w.siteURL+"/api/codesettings/codepublisher",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{id:e.state.rolePublisher,admin:"9wA7yggY0WI"}}).then((function(e){return e.data}));case 4:if(2!==t.sent.error){t.next=7;break}return t.abrupt("return",m.Am.error(y()("staff.codesettings.alreadyAddedRole",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 7:m.Am.success(y()("staff.codesettings.addedRolePublisher",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}),e.props.publisherRoles.push(e.state.rolePublisher),e.setState({role:""});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y()("send",this.props.lang)))),v("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},v("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden bg-input"},v("table",{className:"min-w-full leading-normal"},v("thead",null,v("tr",null,v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.role",this.props.lang)),v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.acts",this.props.lang)))),v("tbody",null,this.props.publisherRoles.map((function(t,s){var r=e.props.server.roles.filter((function(e){return e.id===t}))[0];return r||(r={name:y()("staff.codesettings.deletedRole",e.props.lang),number:t}),v("tr",{id:"publisherRole-".concat(s)},v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("p",{className:"text-gray-200 whitespace-no-wrap"},r.name)),v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("div",{className:"flex"},v("div",{className:"badge cursor-pointer",onClick:function(){var t=(0,n.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f()(w.siteURL+"/api/codesettings/codepublisher",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{id:r.id?r.id:r.number,delete:!0,admin:"9wA7yggY0WI"}}).then((function(e){return e.data}));case 2:return t.sent,document.getElementById("publisherRole-".concat(s)).remove(),t.abrupt("return",m.Am.success(y()("staff.codesettings.deleted",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v("span",{className:"px-2 ml-auto text-xs font-medium tracking-wide text-red-800 bg-blue-100 rounded-full"},y()("staff.codesettings.delete",e.props.lang))))))}))))))),v("br",null),v("div",{className:"py-8"},v("h2",{className:"text-sm font-semibold leading-tight text-gray-200"},y()("staff.codesettings.addCategoryRole",this.props.lang)),v("div",{className:"my-2 flex sm:flex-row flex-col"},v("div",{className:"block relative"},v("select",{onChange:function(t){return e.setState({categoryRole:t.target.value})},className:"w-full py-2 px-2 bg-input rounded-md text-white border border-transparent focus:outline-none focus:border-transparent"},v("option",{value:0,selected:!0,disabled:!0},y()("staff.codesettings.selectRole",this.props.lang)),this.props.server.roles.sort((function(e,t){return t.position-e.position})).map((function(t){return v("option",{value:t.id,selected:e.state.categoryRole===t.id},t.name)})))),v("div",{className:"block relative ml-2"},v("select",{onChange:function(t){return e.setState({categoryName:t.target.value})},className:"w-full py-2 px-2 bg-input rounded-md text-white border border-transparent focus:outline-none focus:border-transparent"},this.props.categories.map((function(e,t){return v("option",{key:t,value:e},e)})))),v("div",{className:"flex justify-center"},v("a",{className:"flex-no-grow flex-no-shrink relative text-lg py-0.5 px-4 ml-2 leading-normal text-white no-underline flex items-center transition duration-200 bg-green-500 hover:bg-green-600 cursor-pointer",onClick:function(){var t=(0,n.Z)(a().mark((function t(s){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.state.categoryRole.length&&0!==e.state.categoryName.length){t.next=2;break}return t.abrupt("return",m.Am.error(y()("staff.codesettings.fillEverything",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 2:return t.next=4,f()(w.siteURL+"/api/codesettings/categoryroles",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{data:{role:e.state.categoryRole,category:e.state.categoryName},admin:"9wA7yggY0WI"}}).then((function(e){return e.data}));case 4:if(2!==t.sent.error){t.next=7;break}return t.abrupt("return",m.Am.error(y()("staff.codesettings.alreadyAddedRole",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 7:m.Am.success(y()("staff.codesettings.addedCategoryRole",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}),e.props.categoryRoles.push({id:e.state.categoryRole,category:e.state.categoryName}),e.setState({categoryRole:""}),e.setState({categoryName:""});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y()("send",this.props.lang)))),v("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},v("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden bg-input"},v("table",{className:"min-w-full leading-normal"},v("thead",null,v("tr",null,v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.role",this.props.lang)),v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.category",this.props.lang)),v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.acts",this.props.lang)))),v("tbody",null,this.props.categoryRoles.map((function(t,s){var r=e.props.server.roles.filter((function(e){return e.id===t.id}))[0];return r||(r={name:y()("staff.codesettings.deletedRole",e.props.lang),number:t.id}),v("tr",{id:"categoryRole-".concat(s)},v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("p",{className:"text-gray-200 whitespace-no-wrap"},r.name)),v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("p",{className:"text-gray-200 whitespace-no-wrap"},t.category)),v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("div",{className:"flex"},v("div",{className:"badge cursor-pointer",onClick:function(){var o=(0,n.Z)(a().mark((function n(o){return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f()(w.siteURL+"/api/codesettings/categoryroles",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{data:{role:r.id?r.id:r.number,category:t.category},delete:!0,admin:"9wA7yggY0WI"}}).then((function(e){return e.data}));case 2:return a.sent,document.getElementById("categoryRole-".concat(s)).remove(),a.abrupt("return",m.Am.success(y()("staff.codesettings.deleted",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 5:case"end":return a.stop()}}),n)})));return function(e){return o.apply(this,arguments)}}()},v("span",{className:"px-2 ml-auto text-xs font-medium tracking-wide text-red-800 bg-blue-100 rounded-full"},y()("staff.codesettings.delete",e.props.lang))))))}))))))),v("br",null),v("div",{className:"py-8"},v("h2",{className:"text-sm font-semibold leading-tight text-gray-200"},y()("staff.codesettings.addCodeCategories",this.props.lang)),v("div",{className:"my-2 flex sm:flex-row flex-col"},v("div",{className:"block relative"},v("input",{value:this.state.category,onChange:function(t){return e.setState({category:t.target.value})},className:"w-full py-2 px-2 bg-input rounded-md text-white border border-transparent focus:outline-none focus:border-transparent"},y()("staff.codesettings.writeCategoryName",this.props.lang))),v("div",{className:"flex justify-center"},v("a",{className:"flex-no-grow flex-no-shrink relative text-lg py-0.5 px-4 ml-2 leading-normal text-white no-underline flex items-center transition duration-200 bg-green-500 hover:bg-green-600 cursor-pointer",onClick:function(){var t=(0,n.Z)(a().mark((function t(s){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.state.category.length){t.next=2;break}return t.abrupt("return",m.Am.error(y()("staff.codesettings.fillEverything",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 2:return t.next=4,f()(w.siteURL+"/api/codesettings/category",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{category:e.state.category,admin:"9wA7yggY0WI"}}).then((function(e){return e.data}));case 4:if(2!==t.sent.error){t.next=7;break}return t.abrupt("return",m.Am.error(y()("staff.codesettings.alreadyAddedCategory",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 7:m.Am.success(y()("staff.codesettings.addedCategory",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}),e.props.categories.push(e.state.category),e.setState({category:""});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y()("send",this.props.lang)))),v("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},v("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden bg-input"},v("table",{className:"min-w-full leading-normal"},v("thead",null,v("tr",null,v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.category",this.props.lang)),v("th",{className:"px-5 py-3 bg-input text-left text-xs font-semibold text-gray-200 uppercase tracking-wider"},y()("staff.codesettings.acts",this.props.lang)))),v("tbody",null,this.props.categories.map((function(t,s){return v("tr",{id:"category-".concat(s)},v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("p",{className:"text-gray-200 whitespace-no-wrap"},t)),v("td",{className:"px-5 py-5 bg-input text-gray-100 text-sm"},v("div",{className:"flex"},v("div",{className:"badge cursor-pointer",onClick:function(){var r=(0,n.Z)(a().mark((function r(n){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f()(w.siteURL+"/api/codesettings/category",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{category:t,delete:!0,admin:"9wA7yggY0WI"}}).then((function(e){return e.data}));case 2:return r.sent,document.getElementById("category-".concat(s)).remove(),r.abrupt("return",m.Am.success(y()("staff.codesettings.deleted",e.props.lang),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,progress:void 0}));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},v("span",{className:"px-2 ml-auto text-xs font-medium tracking-wide text-red-800 bg-blue-100 rounded-full"},y()("staff.codesettings.delete",e.props.lang))))))})))))))))))}}]),s}(d.default.Component),C=!0;t.default=k},1211:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staff/codesettings",function(){return s(7342)}])}},function(e){e.O(0,[5961,1192,9249,3355,4292,2888,9774,179],(function(){return t=1211,e(e.s=t);var t}));var t=e.O();_N_E=t}]);